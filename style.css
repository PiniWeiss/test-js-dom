:root {
    --bg-color: #7FCD68; /* רקע ירוק כמו בתמונה */
    --card-bg: #ffffff;
    --primary-color: #4a90e2;
    --success-color: #34c759;
    --warning-color: #ff9f43;
    --info-color: #5e72e4;
    --text-dark: #2d3436;
    --text-light: #636e72;
    --player1-bg: #f7e6c4; /* צבע רקע לרון */
    --player1-accent: #d35400;
    --player2-bg: #e3f2fd; /* צבע רקע לדני */
    --player2-accent: #2980b9;
    --die-size: 80px; /* גודל הקובייה */
}

body {
    font-family: 'Rubik', 'Segoe UI', sans-serif;
    background-color: var(--bg-color);
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow-x: hidden;
}

/* --- מסך פתיחה (Modal) --- */
.overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    display: flex; justify-content: center; align-items: center;
    z-index: 999;
}

.modal-card {
    background: var(--card-bg);
    padding: 2.5rem;
    border-radius: 24px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    width: 90%; max-width: 400px;
    border: 4px solid #fff;
}

.modal-card h1 { margin-top: 0; color: var(--text-dark); }
.input-group input {
    font-size: 1.5rem; padding: 10px; width: 100px;
    text-align: center; border: 2px solid #ddd; border-radius: 12px;
    margin-bottom: 20px; font-weight: bold; color: var(--primary-color);
}
.hidden { display: none !important; }

/* --- לוח המשחק --- */
.game-container {
    background: var(--card-bg);
    padding: 30px;
    border-radius: 30px;
    box-shadow: 0 25px 50px rgba(0,0,0,0.15);
    width: 95%; max-width: 800px;
    text-align: center;
}

header h1 {
    color: #2c3e50;
    margin-bottom: 30px;
    font-size: 2.5rem;
    display: flex; align-items: center; justify-content: center; gap: 10px;
}

/* --- כרטיסי שחקנים --- */
.players-area {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-bottom: 30px;
}

.player-card {
    flex: 1;
    background: var(--player2-bg);
    border-radius: 16px;
    padding: 20px;
    position: relative;
    transition: all 0.3s ease;
    border: 3px solid transparent;
}

#player-0 { background: var(--player1-bg); }

.player-card.active {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.1);
}

#player-0.active { border-color: var(--player1-accent); }
#player-1.active { border-color: var(--player2-accent); }

.player-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 15px;
}
.player-header h2 { margin: 0; font-size: 1.2rem; color: var(--text-dark); }

.status-badge {
    background: var(--success-color); color: white;
    padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;
    opacity: 0; transition: opacity 0.3s;
}
.status-badge.waiting { background: var(--text-light); }
.player-card.active .status-badge { opacity: 1; }

.score-label { color: var(--text-light); font-size: 0.9rem; }
.total-score {
    font-size: 3.5rem; font-weight: 800; color: var(--text-dark);
    line-height: 1; margin-top: 5px;
}

/* --- קוביות תלת-ממד (3D Dice) --- */
.dice-arena {
    display: flex; justify-content: center; gap: 40px;
    margin: 40px 0; perspective: 1000px;
}

.scene {
    width: var(--die-size); height: var(--die-size);
    perspective: 600px;
}

.cube {
    width: 100%; height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transform: translateZ(calc(var(--die-size) / -2));
    transition: transform 1s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.cube.rolling {
    animation: rollDice 0.6s linear infinite;
}

@keyframes rollDice {
    0% { transform: translateZ(calc(var(--die-size) / -2)) rotateX(0deg) rotateY(0deg); }
    100% { transform: translateZ(calc(var(--die-size) / -2)) rotateX(360deg) rotateY(360deg); }
}

.cube__face {
    position: absolute;
    width: var(--die-size); height: var(--die-size);
    border-radius: 16px;
    background: white;
    box-shadow: inset 0 0 15px rgba(0,0,0,0.1);
    border: 2px solid #ecf0f1;
    display: flex; justify-content: center; align-items: center;
}

/* נקודות על הקוביות */
.cube__face::before {
    content: ''; display: block;
    background-color: #333; box-shadow: inset 0 3px #111;
    border-radius: 50%;
}

/* מיקום הפאות במרחב */
.cube__face--1 { transform: rotateY(  0deg) translateZ(calc(var(--die-size) / 2)); }
.cube__face--2 { transform: rotateY( 90deg) translateZ(calc(var(--die-size) / 2)); }
.cube__face--3 { transform: rotateY(180deg) translateZ(calc(var(--die-size) / 2)); }
.cube__face--4 { transform: rotateY(-90deg) translateZ(calc(var(--die-size) / 2)); }
.cube__face--5 { transform: rotateX( 90deg) translateZ(calc(var(--die-size) / 2)); }
.cube__face--6 { transform: rotateX(-90deg) translateZ(calc(var(--die-size) / 2)); }

/* סידור הנקודות לכל מספר */
.cube__face--1::before { width: 24%; height: 24%; }
.cube__face--2::before { width: 18%; height: 18%; box-shadow: -25px -25px #333, 25px 25px #333; }
.cube__face--3::before { width: 18%; height: 18%; box-shadow: -25px -25px #333, 0 0 #333, 25px 25px #333; }
.cube__face--4::before { width: 18%; height: 18%; box-shadow: -25px -25px #333, 25px -25px #333, -25px 25px #333, 25px 25px #333; }
.cube__face--5::before { width: 18%; height: 18%; box-shadow: -25px -25px #333, 25px -25px #333, 0 0 #333, -25px 25px #333, 25px 25px #333; }
.cube__face--6::before { width: 18%; height: 18%; box-shadow: -25px -25px #333, 25px -25px #333, -25px 0 #333, 25px 0 #333, -25px 25px #333, 25px 25px #333; }

/* --- כפתורים --- */
.controls-area {
    display: flex; justify-content: center; gap: 15px;
    margin-top: 30px;
}

.btn {
    border: none; padding: 15px 30px; border-radius: 12px;
    font-size: 1.1rem; font-weight: bold; color: white; cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    display: flex; align-items: center; gap: 8px;
}
.btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.15); }
.btn:active { transform: translateY(-1px); }
.btn-primary { background-color: var(--primary-color); }
.btn-success { background-color: var(--success-color); }
.btn-warning { background-color: var(--warning-color); }
.btn-info { background-color: var(--info-color); }
.btn-lg { font-size: 1.3rem; padding: 15px 40px; width: 100%; justify-content: center; }

/* --- הודעות קופצות --- */
.message-popup {
    position: fixed; top: 20%;
    background: #e74c3c; color: white;
    padding: 18px 35px; border-radius: 50px;
    font-weight: bold; font-size: 1.2rem;
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    z-index: 1000; animation: slideInDown 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
}
@keyframes slideInDown { from { transform: translateY(-150%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* התאמה למובייל */
@media (max-width: 600px) {
    .players-area { flex-direction: column; }
    .controls-area { flex-wrap: wrap; }
    .btn { flex: 1 1 40%; padding: 12px; font-size: 1rem; }
    .game-container { padding: 20px; }
    :root { --die-size: 60px; }
}